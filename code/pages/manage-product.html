<psk-page title="Manage Product">
    <h6>
    <psk-form controller-name="ManageProductController">
        <psk-form-row layout="xs=[12] m=[12] l=[12] xl=[12]">
            <psk-layout template-columns="max-content max-content" column-gap="30px">
                <psk-label label="Manufacturing Authorization Holder:"></psk-label>
                <psk-label label="@product.manufName"></psk-label>
            </psk-layout>
        </psk-form-row>
        <psk-form-row layout="xs=[12,12] m=[6,6] l=[6,6] xl=[6,6]">
            <psk-layout template-columns="max-content max-content" column-gap="30px">
                <psk-label label="Product Code (GTIN/NTIN):"></psk-label>
                <psk-condition condition="@product.isCodeEditable">
                    <psk-text-input slot="condition-true" required value="@product.gtin"></psk-text-input>
                    <psk-label slot="condition-false" label="@product.gtin"></psk-label>
                </psk-condition>
            </psk-layout>
            <psk-layout template-columns="max-content max-content" column-gap="30px">
                <psk-label label="Product Name:"></psk-label>
                <psk-condition condition="@product.isCodeEditable">
                    <psk-text-input slot="condition-true" required value="@product.name"></psk-text-input>
                    <psk-label slot="condition-false" label="@product.name"></psk-label>
                </psk-condition>
            </psk-layout>
        </psk-form-row>
        <psk-form-row layout="xs=[12,12] m=[6,6] l=[6,6] xl=[6,6]">
            <psk-img-input class="product-image" event-name="product-photo-selected" label="Product Photo"
                           src="@product.photo"></psk-img-input>
            <psk-textarea label="Description" required value="@product.description"></psk-textarea>
        </psk-form-row>
        <psk-form-row layout="xs=[12,12] m=[6,6] l=[6,6] xl=[6,6]">
            <psk-layout class="mt-3" column-gap="30px" columns="2">
                <div class="border border-dark pb-3 pl-3 pr-3">
                    <psk-checkbox checkbox-label="Enable Adverse Events Reporting"
                                  checked="@product.adverseReportingEnabled"
                                  name="adverseReportingEnabled"
                                  value="@product.adverseReportingEnabled"></psk-checkbox>
                    <psk-text-input label="Adverse Events Reporting URL:" value="@product.reportURL"></psk-text-input>
                </div>
                <div class="border border-dark pb-3 pl-3 pr-3">
                    <psk-checkbox checkbox-label="Enable Anti-Counterfieting check for this product"
                                  checked="@product.antiCounterfietingEnabled" name="antiCounterfietingEnabled"
                                  value="@product.antiCounterfietingEnabled"></psk-checkbox>
                    <psk-text-input label="Anti-Counterfieting End Point URL:"
                                    value="@product.antiCounterfietingURL"></psk-text-input>
                </div>
            </psk-layout>
        </psk-form-row>
        <psk-from-row layout="xs=[12,12] m=[6,6] l=[6,6] xl=[6,6]">
            <psk-layout class="mt-3" column-gap="30px" columns="2">
                <div class="border border-dark pb-3 pl-3 pr-3">
                    <psk-text-input label="Patient Specific Information Leaflet"
                                    value="@product.pacientLeafletInfo"></psk-text-input>
                    <psk-text-input label="Healthcare practitioner information"
                                    value="@product.practitionerInfo"></psk-text-input>
                </div>
                <div class="border border-dark pb-3 pl-3 pr-3">
                    <psk-layout columns="2">
                        <psk-label label="Check Batch Expiry Date"></psk-label>
                        <psk-radio-group view-model="@product.checkExpiryDate" value="@product.checkExpiryDate.value"> </psk-radio-group>
                    </psk-layout>
                    <psk-layout columns="2">
                        <psk-label label="Check Incorrect Expiration Date"></psk-label>
                        <psk-radio-group view-model="@product.checkIncorrectExpiryDate" value="@product.checkExpiryDate.value"> </psk-radio-group>
                    </psk-layout>
                </div>
            </psk-layout>
        </psk-from-row>
        <psk-from-row layout="xs=[12] m=[12] l=[12] xl=[12]">
            <div class="border border-dark pb-3 pl-3 pr-3 mt-3">
                <psk-layout gap="2em" template-columns="20fr 75fr">
                    <div>
                        <psk-text-input label="Version" read-only value="@product.version"></psk-text-input>
                        <psk-checkbox checkbox-label="Enable Batch Specific"
                                      name="batchSpecific" value="@product.batchSpecificVersion"></psk-checkbox>
                    </div>
                    <div>
                        <psk-form class="language-leaflets-grid">
                            <psk-from-row>
                                <psk-layout column-gap="30px" template-columns="15fr 80fr">
                                    <div>
                                        <psk-label label="Add new ePI"></psk-label>
                                        <psk-button event-name="add-language-leaflet" label="Add ePI">
                                            <span style="font-weight: bold">+</span>
                                        </psk-button>
                                    </div>
                                    <div class="mt-3">
                                        <psk-for-each data-view-model="@languageTypeCards">
                                            <psk-card class="language-leaflet-card">
                                                <div class="language-leaflet-card-header">
                                                    <psk-label label="@language.label"></psk-label>
                                                    <psk-button event-data="@" event-name="delete-language-leaflet">
                                                        <span style="font-weight: bold">-</span>
                                                    </psk-button>
                                                </div>
                                                <div class="language-leaflet-card-body">
                                                    <psk-files-chooser accept="directory"
                                                                       class="paperclip leaflet-files-chooser"
                                                                       event-name="@fileSelectEvent"
                                                                       label="@attachLabel" list-files="true"
                                                                       required>
                                                    </psk-files-chooser>
                                                </div>
                                            </psk-card>
                                        </psk-for-each>
                                    </div>
                                </psk-layout>
                            </psk-from-row>
                        </psk-form>
                    </div>
                </psk-layout>
            </div>
            <psk-label class="inline" label="@attachment.name"></psk-label>
<psk-layout align-content-x="center" >
            <psk-condition condition="@product.isCodeEditable">
                <psk-button slot="condition-true" event-name="add-product" label="Save Product"></psk-button>
                <psk-button slot="condition-false" event-name="add-product" label="Update Product"></psk-button>
            </psk-condition>
</psk-layout>
            <psk-list-feedbacks></psk-list-feedbacks>
        </psk-from-row>
    </psk-form>
    </h6>
</psk-page>
<style>
    psk-form-row {
        padding-left: 10px;
    }

    .product-image img {
        max-height: 100px;
        max-width: 100px;
    }
    psk-radio-group .form-group>psk-label{
        display: none;
    }
</style>
