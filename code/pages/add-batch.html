<psk-page title="Edit batch">
    <psk-form class="add-batch-form" controller-name="addBatchController">
        <psk-form-row>
            <psk-condition condition="@editMode">
                <psk-text-input slot="condition-true" label="Batch number" value="@batch.batchNumber" required read-only></psk-text-input>
                <psk-text-input slot="condition-false"label="Batch number" value="@batch.batchNumber" required></psk-text-input>
            </psk-condition>
        </psk-form-row>
        <psk-form-row>
            <psk-condition condition="@editMode">
                <psk-text-input slot="condition-true" label="Product" value="@batch.gtin" required read-only></psk-text-input>
                <psk-select slot="condition-false" view-model="@products" required></psk-select>
            </psk-condition>

        </psk-form-row>
        <psk-form-row>
            <psk-select view-model="@versions" required></psk-select>
        </psk-form-row>
        <psk-form-row>
            <psk-condition condition="@editMode">
                <psk-date-input slot="condition-true" read-only data-format="DD MM YYYY" label="Expiration date" value="@batch.expiryForDisplay" required></psk-date-input>
                <psk-date-input slot="condition-false" data-format="DD MM YYYY" label="Expiration date" value="@batch.expiryForDisplay" required></psk-date-input>
            </psk-condition>
        </psk-form-row>
        <psk-form-row>
            <psk-condition condition="@editMode">
                <psk-textarea  slot="condition-true" label="Add serial numbers for the batch separated by comma"  required></psk-textarea>
                <psk-textarea  slot="condition-false" label="Serial numbers" value="@batch.serialNumbers" required></psk-textarea>
            </psk-condition>
        </psk-form-row>
        <psk-form-row>
            <psk-textarea  label="Batch message" value="@batch.defaultMessage" placeholder="This text will be displayed to user after QR code is scanned"></psk-textarea>
            <psk-condition condition="@batch.recalled">
                <psk-textarea  label="Recall message" value="@batch.recalledMessage" placeholder="This text will be displayed to user after QR code is scanned if batch is recalled" required></psk-textarea>
            </psk-condition>
            <psk-layout gap="10px" class="border-bottom" template-columns="auto auto auto auto" >
                <psk-layout-item>
                    <psk-checkbox  checkbox-label="Check to recall this batch" name="recalled" checked="@batch.recalled" value="@batch.recalled"></psk-checkbox>
                </psk-layout-item>
                <psk-layout-item>
                    <psk-checkbox  checkbox-label="Serial number check" name="serialCheck" checked="@batch.serialCheck" value="@batch.serialCheck"></psk-checkbox>
                </psk-layout-item>
                <psk-layout-item>
                    <psk-checkbox  checkbox-label="Incorect expiration date check" name="incorectDateCheck" checked="@batch.incorectDateCheck" value="@batch.incorectDateCheck"></psk-checkbox>
                </psk-layout-item>
                <psk-layout-item>
                    <psk-checkbox  checkbox-label="Expired expiration date check" name="expiredDateCheck" checked="@batch.expiredDateCheck" value="@batch.expiredDateCheck"></psk-checkbox>
                </psk-layout-item>
            </psk-layout>

        </psk-form-row>
        <psk-form-row>
            <psk-condition condition="@editMode">
                <psk-button slot="condition-true" label="Update batch" event-name="update-batch"></psk-button>
                <psk-button slot="condition-false" label="Add batch" event-name="add-batch"></psk-button>
            </psk-condition>
        </psk-form-row>
        <psk-list-feedbacks></psk-list-feedbacks>
    </psk-form>
</psk-page>
